#include "../../template.hpp"

static const vi L = {-1,0};
static const vi T = {0,-1};
static const vi R = {1,0};
static const vi B = {-0,1};
static const vvi directions = {L, T, R, B};

vvi sol(const vvi& mat) {
    const int m = mat.size();
    const int n = mat[0].size();

    vvi ans(m, vi(n, INF));
    deque<vi> q;

    for (int i = 0; i < m; ++i) {
        for (int j = 0; j < n; ++j) {
            if (mat[i][j] == 0) {
                q.push_back({i, j});
                ans[i][j] = 0;
            }
        }
    }

    while (not q.empty()) {
        const vi at = q.front(); q.pop_front();
        for (const auto& direction : {L, T, R, B}) {
            const int i = at[0] + direction[0];
            const int j = at[1] + direction[1];
            if (i >= 0 and j >= 0 and i < m and j < n and ans[i][j] == INF) {
                ans[i][j] = ans[at[0]][at[1]] + 1;
                q.push_back({i, j});
            }
        }
    }

    return ans;
}

int main() { TimeMeasure _; __x();
    const vvi mat1 = {{0,0,0},{0,1,0},{0,0,0}};
    const vvi mat2 = {{0,0,0},{0,1,0},{1,1,1}};
    const vvi mat3 = {{1,0,1,1,0,0,1,0,0,1},{0,1,1,0,1,0,1,0,1,1},{0,0,1,0,1,0,0,1,0,0},{1,0,1,0,1,1,1,1,1,1},{0,1,0,1,1,0,0,0,0,1},{0,0,1,0,1,1,1,0,1,0},{0,1,0,1,0,1,0,0,1,1},{1,0,0,0,1,1,1,1,0,1},{1,1,1,1,1,1,1,0,1,0},{1,1,1,1,0,1,0,0,1,1}};
    const vvi mat4 = {{1,1,0,0,1,0,0,1,1,0},{1,0,0,1,0,1,1,1,1,1},{1,1,1,0,0,1,1,1,1,0},{0,1,1,1,0,1,1,1,1,1},{0,0,1,1,1,1,1,1,1,0},{1,1,1,1,1,1,0,1,1,1},{0,1,1,1,1,1,1,0,0,1},{1,1,1,1,1,0,0,1,1,1},{0,1,0,1,1,0,1,1,1,1},{1,1,1,0,1,0,1,1,1,1}};
    const vvi mat5 = {{0},{0},{0},{0},{0}};

    cout << sol(mat1) << endl; // [[0,0,0],[0,1,0],[0,0,0]]
    cout << sol(mat2) << endl; // [[0,0,0],[0,1,0],[1,2,1]]
    cout << sol(mat3) << endl; // [[1,0,1,1,0,0,1,0,0,1],[0,1,1,0,1,0,1,0,1,1],[0,0,1,0,1,0,0,1,0,0],[1,0,1,0,1,1,1,1,1,1],[0,1,0,1,1,0,0,0,0,1],[0,0,1,0,1,1,1,0,1,0],[0,1,0,1,0,1,0,0,1,1],[1,0,0,0,1,2,1,1,0,1],[2,1,1,1,1,2,1,0,1,0],[3,2,2,1,0,1,0,0,1,1]]
    cout << sol(mat4) << endl; // [[2,1,0,0,1,0,0,1,1,0],[1,0,0,1,0,1,1,2,2,1],[1,1,1,0,0,1,2,2,1,0],[0,1,2,1,0,1,2,3,2,1],[0,0,1,2,1,2,1,2,1,0],[1,1,2,3,2,1,0,1,1,1],[0,1,2,3,2,1,1,0,0,1],[1,2,1,2,1,0,0,1,1,2],[0,1,0,1,1,0,1,2,2,3],[1,2,1,0,1,0,1,2,3,4]]
    cout << sol(mat5) << endl; // [[0],[0],[0],[0],[0]]
}
