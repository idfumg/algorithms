#include "../../template.hpp"

int tab(const vi& arr) {
    const int n = arr.size();
    int ans = 0;
    const auto [mini, maxi] = minmax_element(arr.cbegin(), arr.cend());
    const int diffmax = *maxi - *mini;
    vvi dp(n + 1, vi(2000, 0));
    for (int i = 0; i < n; ++i) {
        for (int j = i + 1; j < n; ++j) {
            const int d = arr[j] - arr[i] + 1000;
            ans = max(ans, dp[j][d] = max(2, dp[i][d] + 1));
        }
    }
    return ans;
}

int main() { TimeMeasure _; __x();
    cout << tab({7,24,7,12,2,69,9,74,73,66,77,78,29,16,31,74,45,2,4,61,47,35,55,76,65,5,65,45,12,51,2,5,34,9,61,3,9,17,49,54,76,2,32,29,62,19,52,41,7,3,41,22,48,15,8,21,45,64,51,20,76,1,50,47,65,75,55,54,22,21}) << endl; // 5
    cout << tab({3,6,9,12}) << endl; // 4
    cout << tab({9,4,7,2,10}) << endl; // 3
    cout << tab({20,1,15,3,10,5,8}) << endl; // 4
    cout << tab({24,13,1,100,0,94,3,0,3}) << endl; // 2
    cout << tab({1,1,0,0,1,0,0,1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,1,1,0,1,0,1,1,0,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,1,0,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,1,0,1,0,1,0,0,0,1,1,0,0,0,0,1,1,0,0,1,0,0,1,0,1,0,0,0,0,0,1,1,1,1,1,0,1,1,0,0,0,0,0,0,1,1,1,0,1,1,0,1,1,1,0,1,0,1,0,0,1,0,0,1,0,0,1,1,0,1,0,0,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,1,0,0,0,0,1,0,1,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,0,1,1,1,0,1,0,0,1,0,1,0,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,1,1,0,1,0,0,1,0,1,0,0,0,1,0,1,0,1,1,0,0,1,1,0,0,1,0,1,1,1,1,0,1,1,1,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,1,1,1,1,0,0,0,1,0,0,0,1,1,0,1,0,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0,1,0,0,0,1,0,0,0,0,1,1,1,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,1,1,0,1,1,0,1,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,0,0,0,1,1,0,0,0,1,1,0,1,1,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,1,0,0,0,1,1,0,1,0,0,0,1,1,1,1,1}) << endl; // 306
    cout << tab({1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,1,5,9,13,17,21,25,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,7,10,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,11,16,21,26,31,36,41,46,51,56,61,66,71,76,81,86,91,96,101,106,111,116,121,126,131,136,141,146,151,156,161,166,171,176,181,186,191,196,201,206,211,216,221,226,231,236,241,246,251,256,261,266,271,276,281,286,291,296,301,306,311,316,321,326,331,336,341,346,351,356,361,366,371,376,381,386,391,396,401,406,411,416,421,426,431,436,441,446,451,456,461,466,1,5,9,13,17,21,25,29,33,37,41,45,49,53,57,61,65,69,73,77,81,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,177,181,185,189,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,1,1,1,1,1,1,1,1,1,1,1,1,1,5,9,13,17,21,25,29,33,37,41,45,49,53,57,61,65,69,73,77,81,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,1,1,1,1,1,1,1,1,1,1,1,1,5,9,13,17,21,25,29,33,37,41,45,1,6,11,16,21,26,31,36,41,46,51,56,1,2,1,4,7,10,13,1}) << endl; // 325
    cout << tab({225,368,110,327,305,265,499,471,140,276,411,12,158,158,378,1,500,333,485,239,49,153,21,37,322,367,376,345,442,398,273,97,80,469,140,40,447,212,358,434,215,500,487,52,119,387,320,456,378,289,277,347,185,217,260,160,497,79,229,317,426,413,213,216,150,259,279,479,60,163,473,196,285,345,362,280,332,265,371,137,129,403,419,11,346,6,394,324,291,193,241,56,50,384,421,136,266,307,252,38,303,324,214,68,35,374,280,69,361,175,8,373,197,286,245,152,284,89,115,407,299,218,285,308,417,274,246,274,171,207,415,159,471,337,497,459,451,231,213,146,489,146,283,279,494,78,120,212,482,103,282,368,92,160,406,129,415,228,217,412,158,285,161,367,478,295,288,52,314,90,140,246,420,490,286,43,156,128,99,407,467,334,284,80,61,351,448,296,276,129,429,140,33,106,206,491,402,231,220,445,414,448,124,187,12,379,421,473,258,400,51,274,26,123,301,487,153,231,108,251,169,383,231,32,80,431,45,238,274,385,38,103,214,197,31,400,183,428,470,370,353,323,57,392,230,36,140,359,73,415,426,454,1,316,134,468,123,453,27,214,85,302,249,405,88,139,382,23,348,405,56,448,128,127,54,109,182,322,463,222,297,306,136,406,171,68,102,327,23,398,0,242,86,286,199,285,456,220,314,483,400,120,27,282,436,339,176,60,469,250,59,44,300,496,94,308,185,328,275,109,216,136,193,247,207,317,450,330,399,430,430,238,246,189,488,272,112,192,195,495,248,116,160,118,71,215,150,135,201,442,30,44,0,356,21,140,174,91,299,492,445,244,224,116,384,407,488,475,490,291,409,195,134,400,155,500,491,148,407,7,77,62,123,29,199,452,242,230,177,468,328,296,282,147,205,67,88,76,66,434,72,91,192,105,437,158,500,211,485,222,428,368,259,0,4,186,144,13,68,348,129,183,36,411,188,30,491,251,232,314,56,258,397,145,249,474,340,434,384,435,346,239,434,224,394,415,312,271,258,218,184,85,234,289,267,185,417,475,442,497,429,16,230,180,210,468,66,334,323,81,318,228,55,395,393,389,413,62,476,38,327,338,442,263,66,113,10,395,466,367,351,227,39,10,212,338,338,71,64,166,115,219,462,257,243,320,456,6,77,415,389,142,168,89,201,98,289,249,391,497,438,99,420,138,146,151,333,126,166,60,152,392,150,379,239,151,431,193,65,69,18,234,7,478,307,27,150,358,281,280,423,17,174,55,135,58,415,211,22,420,371,478,400,98,216,445,470,454,173,110,106,496,278,309,275,128,240,414,327,405,270,406,411,302,153,107,206,184,322,332,379,179,328,292,244,459,49,303,382,287,65,243,265,87,319,216,77,449,105,221,312,401,72,451,278,405,426,471,312,455,388,192,79,47,63,486,495,234,49,352,436,327,194,235,252,67,244,92,101,230,439,93,136,496,203,378,400}) << endl; // 8
}
